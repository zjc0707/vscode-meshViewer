RenderController.Instance.init(document.getElementById('container'));
const vscode = acquireVsCodeApi();

window.addEventListener('message', async e => {
    const { type, body, requestId } = e.data;
    switch (type) {
        case 'init':
            console.log('init');
            console.log(body.fileContext);
            console.log(body.fileName);
            RenderController.Instance.loadFile(body.fileContext, body.fileName)
            break;
        case 'init_untitled':
            console.log('init_untitled');
            break;
    }
});

vscode.postMessage({ type: 'ready' });

// {
//     const fileContext = '# vtk DataFile Version 2.0\n' +
//         'untitled\n' +
//         'ASCII\n' +
//         'DATASET UNSTRUCTURED_GRID\n' +
//         'POINTS 76 float\n' +
//         '0.0643292 -0.00906742 0.05\n' +
//         '0.0597343 -0.0181348 0.05\n' +
//         '0.0689242 -0.0181348 0.05\n' +
//         '0.0551393 -0.00906742 0.05\n' +
//         '0.0606533 0 0.05\n' +
//         '0.0643292 -0.0272023 0.05\n' +
//         '0.0735191 -0.0272023 0.05\n' +
//         '0.0689242 -0.0362697 0.05\n' +
//         '0.0781141 -0.0362697 0.05\n' +
//         '0.0505444 0 0.05\n' +
//         '0.0459495 -0.00906742 0.05\n' +
//         '0.0505444 -0.0181348 0.05\n' +
//         '0.0735191 -0.0453371 0.05\n' +
//         '0.082709 -0.0453371 0.05\n' +
//         '0.0551393 -0.0272023 0.05\n' +
//         '0.0781141 -0.0544045 0.05\n' +
//         '0.0597343 -0.0362697 0.05\n' +
//         '0.0404355 0 0.05\n' +
//         '0.0367596 -0.00906742 0.05\n' +
//         '0.0413545 -0.0181348 0.05\n' +
//         '0.0643292 -0.0453371 0.05\n' +
//         '0.0459495 -0.0272023 0.05\n' +
//         '0.0689242 -0.0544045 0.05\n' +
//         '0.0505444 -0.0362697 0.05\n' +
//         '0.0321646 -0.0181348 0.05\n' +
//         '0.0275697 -0.00906742 0.05\n' +
//         '0.0303266 0 0.05\n' +
//         '0.0735191 -0.063472 0.05\n' +
//         '0.0551393 -0.0453371 0.05\n' +
//         '0.0367596 -0.0272023 0.05\n' +
//         '0.0597343 -0.0544045 0.05\n' +
//         '0.0413545 -0.0362697 0.05\n' +
//         '0.0229747 -0.0181348 0.05\n' +
//         '0.0183798 -0.00906742 0.05\n' +
//         '0.0202178 0 0.05\n' +
//         '0.0643292 -0.063472 0.05\n' +
//         '0.0459495 -0.0453371 0.05\n' +
//         '0.0275697 -0.0272023 0.05\n' +
//         '0.0689242 -0.0725394 0.05\n' +
//         '0.0505444 -0.0544045 0.05\n' +
//         '0.0321646 -0.0362697 0.05\n' +
//         '0.0137848 -0.0181348 0.05\n' +
//         '0.0551393 -0.063472 0.05\n' +
//         '0.0367596 -0.0453371 0.05\n' +
//         '0.0183798 -0.0272023 0.05\n' +
//         '0.0597343 -0.0725394 0.05\n' +
//         '0.0413545 -0.0544045 0.05\n' +
//         '0.0229747 -0.0362697 0.05\n' +
//         '0.0643292 -0.0816068 0.05\n' +
//         '0.0459495 -0.063472 0.05\n' +
//         '0.0275697 -0.0453371 0.05\n' +
//         '0.00918989 -0.0272023 0.05\n' +
//         '0.0505444 -0.0725394 0.05\n' +
//         '0.0321646 -0.0544045 0.05\n' +
//         '0.0137848 -0.0362697 0.05\n' +
//         '0.0551393 -0.0816068 0.05\n' +
//         '0.0367596 -0.063472 0.05\n' +
//         '0.0183798 -0.0453371 0.05\n' +
//         '0.0413545 -0.0725394 0.05\n' +
//         '0.0229747 -0.0544045 0.05\n' +
//         '0.00459494 -0.0362697 0.05\n' +
//         '0.0459495 -0.0816068 0.05\n' +
//         '0.0275697 -0.063472 0.05\n' +
//         '0.00918989 -0.0453371 0.05\n' +
//         '0.0321646 -0.0725394 0.05\n' +
//         '0.0137848 -0.0544045 0.05\n' +
//         '0.0367596 -0.0816068 0.05\n' +
//         '0.0183798 -0.063472 0.05\n' +
//         '0 -0.0398967 0.05\n' +
//         '0.0229747 -0.0725394 0.05\n' +
//         '0 -0.0498708 0.05\n' +
//         '0.00459494 -0.0544045 0.05\n' +
//         '0.0275697 -0.0816068 0.05\n' +
//         '0.00918989 -0.063472 0.05\n' +
//         '0.0137848 -0.0725394 0.05\n' +
//         '0.0183798 -0.0816068 0.05\n' +
//         'CELLS 122 488\n' +
//         '3 0 1 2\n' +
//         '3 0 3 1\n' +
//         '3 0 4 3\n' +
//         '3 2 1 5\n' +
//         '3 2 5 6\n' +
//         '3 6 7 8\n' +
//         '3 6 5 7\n' +
//         '3 3 9 10\n' +
//         '3 3 11 1\n' +
//         '3 3 10 11\n' +
//         '3 3 4 9\n' +
//         '3 8 7 12\n' +
//         '3 8 12 13\n' +
//         '3 1 14 5\n' +
//         '3 1 11 14\n' +
//         '3 13 12 15\n' +
//         '3 5 14 16\n' +
//         '3 5 16 7\n' +
//         '3 10 17 18\n' +
//         '3 10 19 11\n' +
//         '3 10 18 19\n' +
//         '3 10 9 17\n' +
//         '3 7 20 12\n' +
//         '3 7 16 20\n' +
//         '3 11 19 21\n' +
//         '3 11 21 14\n' +
//         '3 12 20 22\n' +
//         '3 12 22 15\n' +
//         '3 14 23 16\n' +
//         '3 14 21 23\n' +
//         '3 18 24 19\n' +
//         '3 18 25 24\n' +
//         '3 18 26 25\n' +
//         '3 18 17 26\n' +
//         '3 15 22 27\n' +
//         '3 16 28 20\n' +
//         '3 16 23 28\n' +
//         '3 19 24 29\n' +
//         '3 19 29 21\n' +
//         '3 20 30 22\n' +
//         '3 20 28 30\n' +
//         '3 21 31 23\n' +
//         '3 21 29 31\n' +
//         '3 25 32 24\n' +
//         '3 25 33 32\n' +
//         '3 25 26 34\n' +
//         '3 25 34 33\n' +
//         '3 22 30 35\n' +
//         '3 22 35 27\n' +
//         '3 23 31 36\n' +
//         '3 23 36 28\n' +
//         '3 24 37 29\n' +
//         '3 24 32 37\n' +
//         '3 27 35 38\n' +
//         '3 28 39 30\n' +
//         '3 28 36 39\n' +
//         '3 29 40 31\n' +
//         '3 29 37 40\n' +
//         '3 33 41 32\n' +
//         '3 30 39 42\n' +
//         '3 30 42 35\n' +
//         '3 31 40 43\n' +
//         '3 31 43 36\n' +
//         '3 32 41 44\n' +
//         '3 32 44 37\n' +
//         '3 35 45 38\n' +
//         '3 35 42 45\n' +
//         '3 36 46 39\n' +
//         '3 36 43 46\n' +
//         '3 37 44 47\n' +
//         '3 37 47 40\n' +
//         '3 38 45 48\n' +
//         '3 39 46 49\n' +
//         '3 39 49 42\n' +
//         '3 40 47 50\n' +
//         '3 40 50 43\n' +
//         '3 41 51 44\n' +
//         '3 42 52 45\n' +
//         '3 42 49 52\n' +
//         '3 43 50 53\n' +
//         '3 43 53 46\n' +
//         '3 44 54 47\n' +
//         '3 44 51 54\n' +
//         '3 45 52 55\n' +
//         '3 45 55 48\n' +
//         '3 46 56 49\n' +
//         '3 46 53 56\n' +
//         '3 47 57 50\n' +
//         '3 47 54 57\n' +
//         '3 49 58 52\n' +
//         '3 49 56 58\n' +
//         '3 50 57 59\n' +
//         '3 50 59 53\n' +
//         '3 51 60 54\n' +
//         '3 52 61 55\n' +
//         '3 52 58 61\n' +
//         '3 53 62 56\n' +
//         '3 53 59 62\n' +
//         '3 54 63 57\n' +
//         '3 54 60 63\n' +
//         '3 56 64 58\n' +
//         '3 56 62 64\n' +
//         '3 57 65 59\n' +
//         '3 57 63 65\n' +
//         '3 58 64 66\n' +
//         '3 58 66 61\n' +
//         '3 59 65 67\n' +
//         '3 59 67 62\n' +
//         '3 60 68 63\n' +
//         '3 62 67 69\n' +
//         '3 62 69 64\n' +
//         '3 63 70 71\n' +
//         '3 63 71 65\n' +
//         '3 63 68 70\n' +
//         '3 64 69 72\n' +
//         '3 64 72 66\n' +
//         '3 65 71 73\n' +
//         '3 65 73 67\n' +
//         '3 67 73 74\n' +
//         '3 67 74 69\n' +
//         '3 69 74 75\n' +
//         '3 69 75 72\n' +
//         'CELL_TYPES 122\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5\n' +
//         '5'

//     RenderController.Instance.loadFile(fileContext, '1.vtk')

// }
